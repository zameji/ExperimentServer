{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{\"9Jkg\":function(t,e,n){t.exports=n(\"oh+g\")},FAYi:function(t,e,n){\"use strict\";n.r(e);var a=n(\"9Jkg\"),r=n.n(a),i=n(\"ln6h\"),o=n.n(i),s=n(\"O40h\"),c=n(\"0iUn\"),u=n(\"sLSF\"),d=n(\"MI3g\"),l=n(\"a7VT\"),p=n(\"AT/M\"),h=n(\"Tit0\"),m=n(\"MX0m\"),f=n.n(m),x=n(\"q1tI\"),v=n.n(x),g=n(\"F1wk\"),b=v.a.createElement,w=function(t){var e=t.addComparison;return b(\"form\",{onSubmit:e,className:\"jsx-150323657 no-print\"},b(\"input\",{type:\"text\",id:\"comparisonName\",placeholder:\"Name for comparison\",required:!0,className:\"jsx-150323657\"}),b(\"input\",{type:\"text\",id:\"comparisonData\",placeholder:\"URL or id for comparison\",required:!0,className:\"jsx-150323657\"}),b(\"br\",{className:\"jsx-150323657\"}),b(\"button\",{type:\"submit\",className:\"jsx-150323657\"},\"Add\"),b(f.a,{id:\"150323657\"},[\"input.jsx-150323657{width:80%;height:40px;margin:10px;font-size:20px;}\",\"input.jsx-150323657:focus{outline:0;}\",\"input.jsx-150323657:active{outline:0;}\",\"button.jsx-150323657{background-color:white;border-radius:2px;color:black;padding:15px 32px;text-align:center;-webkit-text-decoration:none;text-decoration:none;display:inline-block;font-size:16px;width:200px;margin:10px;cursor:pointer;}\",\"button.jsx-150323657:focus{outline:0;}\",\"button.jsx-150323657:active{outline:0;}\",\"@media screen and (max-width:700px){button.jsx-150323657{width:300px;margin-bottom:5px;}@media print{.no-print.jsx-150323657,.no-print.jsx-150323657 *.jsx-150323657{display:none !important;}}}\"]))},j=n(\"ZfeH\"),y=v.a.createElement,k=function(t){var e=t.data,n=t.chartWidth;return y(\"div\",null,y(j.a,{title:e.title,data:e.scores,yDomainRange:[0,120],chartWidth:n}),y(\"p\",null,e.description),y(N,{facets:e.facets,chartWidth:n}))},O=function(t){var e=t.data,n=t.chartWidth;return y(\"div\",null,y(j.a,{title:e.title,data:e.scores,yDomainRange:[0,20],chartWidth:n}),y(\"p\",null,e.description))},N=function(t){var e=t.facets,n=t.chartWidth;return e.map(function(t,e){return y(O,{data:t,chartWidth:n,key:e})})},E=function(t){var e=t.data,n=t.chartWidth;return y(\"div\",{className:\"jsx-32604999 domain-wrapper\"},e.map(function(t,e){return y(k,{data:t,chartWidth:n,key:e})}),y(f.a,{id:\"32604999\"},[\"span.jsx-32604999{margin-right:10px;}\",\".domain-wrapper.jsx-32604999{border-radius:0;background-color:#FFF;box-shadow:0 2px 2px 0 rgba(0,0,0,.16),0 0 2px 0 rgba(0,0,0,.12);color:black;margin-top:10px;padding:10px;text-align:left;}\"]))},D=n(\"knEV\"),C=n(\"pLtp\"),F=n.n(C),S=n(!function(){var t=new Error(\"Cannot find module '@alheimsins/bigfive-calculate-score'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),L=n(!function(){var t=new Error(\"Cannot find module '@alheimsins/b5-result-text'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),T=L.getDomain,W=L.getFacet;function _(t){var e=[];return F()(t).forEach(function(n){e.push({id:n,title:t[n].title,description:t[n].description,scores:t[n].scores})}),e}var U=function(t,e){var n=[],a=t.map(function(t){return{name:t.name,scores:S({answers:t.data.answers})}}).reduce(function(t,n){var a=n.name;return F()(n.scores).forEach(function(r){if(!F()(t).includes(r)){var i=T({language:e,domain:r});t[r]={scores:[],facet:{},description:i.shortDescription,title:i.title}}t[r].scores.push({title:a,score:n.scores[r].score}),F()(n.scores[r].facet).forEach(function(i){if(!F()(t[r].facet).includes(i)){var o=W({language:e,domain:r,facet:i});t[r].facet[i]={scores:[],description:o.text,title:o.title}}t[r].facet[i].scores.push({title:a,score:n.scores[r].facet[i].score})})}),t},{});return F()(a).forEach(function(t){n.push({id:t,title:a[t].title,scores:a[t].scores,description:a[t].description,facets:_(a[t].facet)})}),n};n.d(e,\"default\",function(){return I});var M=v.a.createElement,R=n(!function(){var t=new Error(\"Cannot find module 'jcb64'\");throw t.code=\"MODULE_NOT_FOUND\",t}()).unpack,A=n(!function(){var t=new Error(\"Cannot find module '@alheimsins/b5-result-text'\");throw t.code=\"MODULE_NOT_FOUND\",t}()).getInfo,J=n(!function(){var t=new Error(\"Cannot find module 'file-saver'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),I=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(d.a)(this,Object(l.a)(e).call(this,t))).state={comparisons:[],scores:!1,language:\"en\",viewLanguage:\"en\"},n.addComparison=n.addComparison.bind(Object(p.a)(n)),n.getWidth=n.getWidth.bind(Object(p.a)(n)),n.handleTranslate=n.handleTranslate.bind(Object(p.a)(n)),n.loadComparison=n.loadComparison.bind(Object(p.a)(n)),n.loadResult=n.loadResult.bind(Object(p.a)(n)),n.handleSaveComparison=n.handleSaveComparison.bind(Object(p.a)(n)),n.updateScores=n.updateScores.bind(Object(p.a)(n)),n}return Object(h.a)(e,t),Object(u.a)(e,[{key:\"componentDidMount\",value:function(){var t=Object(s.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:document.addEventListener(\"DOMContentLoaded\",this.getWidth(),!1),window.addEventListener(\"resize\",this.getWidth.bind(this));case 2:case\"end\":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:\"addComparison\",value:function(t){t.preventDefault();var e=!1,n=document.getElementById(\"comparisonName\"),a=document.getElementById(\"comparisonData\");if(a.value.startsWith(\"http\")){var r=new URL(a.value);e=new URLSearchParams(r.search.replace(\"?\",\"\")).get(\"id\")}else e=a.value;var i=R(e);this.updateScores({name:n.value,data:i}),n.value=\"\",a.value=\"\"}},{key:\"updateScores\",value:function(t){var e=this.state.comparisons;e.push(t);var n=this.state.viewLanguage,a=U(e,n);this.setState({comparisons:e,scores:a})}},{key:\"loadResult\",value:function(t){var e=this;t.preventDefault();var n=new window.FileReader,a=t.target.files,r=t.target,i=document.getElementById(\"comparisonName\");n.onload=function(){var t=n.result,a=JSON.parse(t);e.updateScores({name:i.value,data:a}),i.value=\"\",r.value=\"\"},1===a.length&&n.readAsText(a[0])}},{key:\"handleSaveComparison\",value:function(t){t.preventDefault();var e=this.state.comparisons,n=new window.File([r()(e,null,2)],\"b5-comparison.json\",{type:\"text/json;charset=utf-8\"});J.saveAs(n)}},{key:\"loadComparison\",value:function(t){var e=this;t.preventDefault();var n=new window.FileReader,a=t.target.files;n.onload=function(){var t=n.result,a=JSON.parse(t),r=e.state.viewLanguage,i=U(a,r);e.setState({comparisons:a,scores:i})},1===a.length&&n.readAsText(a[0])}},{key:\"handleTranslate\",value:function(t){t.preventDefault();var e=t.target.dataset.language,n=this.state.comparisons,a=U(n,e);this.setState({scores:a,viewLanguage:e})}},{key:\"getWidth\",value:function(){var t=.9*document.documentElement.clientWidth;this.setState({chartWidth:t>=500?t:500})}},{key:\"render\",value:function(){var t=this;return M(g.a,null,M(\"h1\",{className:\"jsx-2393900586 no-print\"},\"Big five comparison\"),A().languages.map(function(e,n){return M(\"button\",{\"data-language\":e,onClick:t.handleTranslate,key:n,className:\"jsx-2393900586 \"+((e===t.state.viewLanguage?\"isActive no-print\":\"no-print\")||\"\")},e)}),M(w,{addComparison:this.addComparison}),M(D.a,{handler:this.loadResult,buttonTitle:\"Load result\"}),this.state.scores?M(E,{data:this.state.scores,chartWidth:this.state.chartWidth}):null,this.state.comparisons.length>0?M(\"button\",{onClick:this.handleSaveComparison,className:\"jsx-2393900586\"},\"Save comparison\"):null,0===this.state.comparisons.length?M(D.a,{handler:this.loadComparison,buttonTitle:\"Load comparison\"}):null,M(f.a,{id:\"2393900586\"},[\"button.jsx-2393900586{background-color:white;border-radius:2px;color:black;padding:15px 32px;text-align:center;-webkit-text-decoration:none;text-decoration:none;display:inline-block;font-size:16px;width:200px;margin:10px;cursor:pointer;}\",\"button.jsx-2393900586:focus{outline:0;}\",\"button.jsx-2393900586:active{outline:0;}\",\".isActive.jsx-2393900586{background:yellow;}\",\"@media print{.no-print.jsx-2393900586,.no-print.jsx-2393900586 *.jsx-2393900586{display:none !important;}}\"]))}}]),e}(x.Component)},O40h:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return o});var a=n(\"eVuF\"),r=n.n(a);function i(t,e,n,a,i,o,s){try{var c=t[o](s),u=c.value}catch(d){return void n(d)}c.done?e(u):r.a.resolve(u).then(a,i)}function o(t){return function(){var e=this,n=arguments;return new r.a(function(a,r){var o=t.apply(e,n);function s(t){i(o,a,r,s,c,\"next\",t)}function c(t){i(o,a,r,s,c,\"throw\",t)}s(void 0)})}}},ZfeH:function(t,e,n){\"use strict\";var a=n(\"UXZV\"),r=n.n(a),i=n(\"MX0m\"),o=n.n(i),s=n(\"q1tI\"),c=n.n(s);!function(){var t=new Error(\"Cannot find module 'react-easy-chart'\");throw t.code=\"MODULE_NOT_FOUND\",t}();var u=c.a.createElement,d={top:20,right:40,bottom:40,left:40};function l(t){return t.map(function(t){return r()({x:t.title,y:t.score})})}e.a=function(t){var e=t.title,n=t.data,a=t.yDomainRange,r=t.chartWidth;return u(\"div\",{className:\"jsx-2343824572 summary-wrapper\"},e?u(\"h1\",{className:\"jsx-2343824572\"},e):null,n?u(!function(){var t=new Error(\"Cannot find module 'react-easy-chart'\");throw t.code=\"MODULE_NOT_FOUND\",t}(),{data:l(n),colorBars:!0,axes:!0,grid:!0,height:400,width:r,yDomainRange:a,margin:d}):null,u(o.a,{id:\"2343824572\"},[\"span.jsx-2343824572{margin-right:10px;}\",\".summary-wrapper.jsx-2343824572{border-radius:0;background-color:#FFF;box-shadow:0 2px 2px 0 rgba(0,0,0,.16),0 0 2px 0 rgba(0,0,0,.12);color:black;margin-top:10px;padding:10px;text-align:center;}\",\"@media screen and (max-width:1000px){.summary-wrapper.jsx-2343824572{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}\"]))}},knEV:function(t,e,n){\"use strict\";var a=n(\"MX0m\"),r=n.n(a),i=n(\"q1tI\"),o=n.n(i),s=o.a.createElement;function c(t){t.preventDefault(),t.target.previousSibling.click()}e.a=function(t){var e=t.handler,n=t.buttonTitle;return s(o.a.Fragment,null,s(\"input\",{type:\"file\",accept:\".json\",onChange:e,className:\"jsx-3645962002\"}),s(\"button\",{onClick:c,className:\"jsx-3645962002\"},n),s(r.a,{id:\"3645962002\"},[\"input.jsx-3645962002{display:none;visibility:hidden;}\",\"button.jsx-3645962002{background-color:white;border-radius:2px;color:black;padding:15px 32px;text-align:center;-webkit-text-decoration:none;text-decoration:none;display:inline-block;font-size:16px;width:200px;margin:10px;cursor:pointer;}\",\"button.jsx-3645962002:focus{outline:0;}\",\"button.jsx-3645962002:active{outline:0;}\",\".isActive.jsx-3645962002{background:yellow;}\"]))}},\"oh+g\":function(t,e,n){var a=n(\"WEpk\"),r=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},snyZ:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/compare\",function(){return n(\"FAYi\")}])}},[[\"snyZ\",1,0]]]);"}
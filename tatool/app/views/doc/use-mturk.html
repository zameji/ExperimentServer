<h2>Amazon Mechnical Turk</h2>

<p>Tatool Web supports the use of Amazon Mechanical Turk (Mturk) for your experiments. To setup a HIT on Amazon Mturk, you have to publish your module in Tatool Web as a <b>public</b> or <b>private</b> module which allows access without a Tatool Web account. Get your module's URL by clicking on the <b>Show URL</b> link next to the <i>Publish</i> button and note it for later. Remember that your experiment has to conform to the <a href="https://www.mturk.com/mturk/help?helpPage=policies" target="_blank" class="external">Mturk Policies</a>.</p>

<ul id="docPageNav">
  <li><i class="fa fa-angle-right"></i> <a href ng-click="scrollTo('setup')">Setting up an Mturk Project</a></li>
  <li><i class="fa fa-angle-right"></i> <a href ng-click="scrollTo('code')">Providing a Module Completion Code</a></li>
  <li><i class="fa fa-angle-right"></i> <a href ng-click="scrollTo('result')">Comparing Mturk/Tatool Results</a></li>
</ul>

<hr class="hr-red">

<h3 id="setup">Setting up an Mturk Project<span class="pull-right"><a href ng-click="scrollTo('top')"><i class="fa fa-caret-up fa-lg"></i></a></span></h3>

<p>Once you have an Mturk requester account, you can go ahead and create a new project. Choose the predefined <b>Survey Link</b> layout as a starting point.</p>

<p>
  <img src="../../images/doc/screen-mturk-project.png" class="internal"><br>
  <i>Create a project of type Survey Link</i>
</p>
<br>
<p>After you have entered all required properties, you can go ahead and edit the layout and add/change the text as required. As a final step, you need to replace the link to your survey/experiment by clicking on the <b>Source</b> button in the editor pane.</p>

<p>
  <img src="../../images/doc/screen-mturk-layout.png" class="internal"><br>
  <i>Edit Layout Source</i>
</p>

<br>
<p>Find the link definition highlighted in the screenshot below, and replace it with the complete code snippet from below. Remember to substitute the link at the beginning of the code snippet with your personal module URL.</p>

<p>
  <img src="../../images/doc/screen-mturk-source.png" class="internal"><br>
  <i>Replace link with code</i>
</p>

<p><b>Replace the link with the following code, and substitute the value for the variable tatoolLink with the module URL. You can retrieve your module's URL by clicking on the <b>Show URL</b> link next to the <i>Publish</i> button in the Modules tab.</b></p>
<pre><code class="language-javascript">&lt;!-- Replace the value for tatoolLink with your Tatool Web URL (without the extid) -->
&lt;script type="text/javascript" language="JavaScript">
  var tatoolLink = "http://www.tatool-web.com/#/public/xxxxx";
&lt;/script>

&lt;!-- No changes needed below this line -->
&lt;div id="linkElement">
  &lt;b>To perform this HIT, you must have Javascript and cookies enabled.</b>
&lt;/div>

&lt;script type="text/javascript" language="JavaScript">
&lt;!--
  var linkElement = document.getElementById('linkElement');
  var queryString = window.location.search.substring(1);
  var queryPairs = queryString.split("&");
  var workerId = "";
  for (i in queryPairs) {
    var pair = queryPairs[i].split("=");
    if (pair[0] == "workerId")
      workerId = pair[1];
  }

  if (workerId == "" ) {
    linkElement.innerHTML = '&lt;b>The link will be displayed once the HIT has been accepted.&lt;/b>';
  } else {
    linkElement.innerHTML = '&lt;a target="_blank" href="' + tatoolLink + '?extid=' + workerId + '">&lt;h2>&lt;b>Start Experiment!&lt;/b>&lt;/h2>&lt;/a>';
  }

// -->
&lt;/script>
</code></pre>

<hr class="hr-red">

<h3 id="code">Providing a Module Completion Code<span class="pull-right"><a href ng-click="scrollTo('top')"><i class="fa fa-caret-up fa-lg"></i></a></span></h3>

<p>Once an Mturk worker has accepted and completed your module, Tatool Web will automatically provide a <b>unique session code</b> that the Mturk worker can submit as part of your HIT; there's no need for you to add anything to your module.</p>

<p>
  <img src="../../images/doc/screen-mturk-session.png" class="internal"><br>
  <i>Tatool Web Completion Screen</i>
</p>

<hr class="hr-red">

<h3 id="result">Comparing Mturk/Tatool Results<span class="pull-right"><a href ng-click="scrollTo('top')"><i class="fa fa-caret-up fa-lg"></i></a></span></h3>

<p>To approve/reject payments to your Mturk workers, you can simply compare the Mturk Results and the Tatool Web Analytics overview. Both screens provide the <b>Worker ID (= External ID)</b> and the <b>Surveycode (= Session Token)</b> to confirm a successful participation. You also have immediate access to the data, allowing you to do additional checks (number of trials or number of points), depending on the HIT requirements you set. Make sure to clearly state your requirements in the Mturk HIT.</p>

<p>
  <img src="../../images/doc/screen-mturk-result.png" class="internal"><br>
  <i>Mturk Result Overview</i>
</p>

<p>
  <img src="../../images/doc/screen-mturk-analytics.png" class="internal"><br>
  <i>Tatool Web Analytics</i>
</p>